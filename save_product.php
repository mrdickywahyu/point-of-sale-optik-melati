<?php// include headerinclude "header.php";// Including all required classesrequire_once('includes/barcodes/class/BCGFontFile.php');require_once('includes/barcodes/class/BCGColor.php');require_once('includes/barcodes/class/BCGDrawing.php');// Including the barcode technologyrequire_once('includes/barcodes/class/BCGcode128.barcode.php');$createdDate = date('Y-m-d H:i:s');$userID = $_SESSION['userID'];$productBarcode = $_POST['productBarcode'];$supplierID = $_POST['supplierID'];$categoryID = $_POST['categoryID'];$brandID = $_POST['brandID'];$productName = $_POST['productName'];$productDiscount = $_POST['productDiscount'];$productBuyPrice = $_POST['productBuyPrice'];$productSalePrice = $_POST['productSalePrice'];$productStock = $_POST['productStock'];$productNote = $_POST['productNote'];if ($productBarcode != '' && $productName != '' && $productBuyPrice != '' && $productSalePrice != '' && $productStock != ''){			$queryProduct = "INSERT INTO as_products(	supplierID,												categoryID,												brandID,												productBarcode,												productName,												productDiscount,												productBuyPrice,												productSalePrice,												productStock,												productNote,												createdDate,												createdUserID,												modifiedDate,												modifiedUserID)										VALUES(	'$supplierID',												'$categoryID',												'$brandID',												'$productBarcode',												'$productName',												'$productDiscount',												'$productBuyPrice',												'$productSalePrice',												'$productStock',												'$productNote',												'$createdDate',												'$userID',												'',												'')";												$sqlProduct = mysqli_query($connect, $queryProduct);		if ($sqlProduct)	{		// Loading Font		$font = new BCGFontFile('includes/barcodes/font/Arial.ttf', 18);				// Don't forget to sanitize user inputs		$text = isset($_GET['text']) ? $_GET['text'] : $productBarcode;				// The arguments are R, G, B for color.		$color_black = new BCGColor(0, 0, 0);		$color_white = new BCGColor(255, 255, 255);				$drawException = null;		try {		    $code = new BCGcode128();		    $code->setScale(2); // Resolution		    $code->setThickness(30); // Thickness		    $code->setForegroundColor($color_black); // Color of bars		    $code->setBackgroundColor($color_white); // Color of spaces		    $code->setFont($font); // Font (or 0)		    $code->parse($text); // Text		} catch(Exception $exception) {		    $drawException = $exception;		}				/* Here is the list of the arguments		1 - Filename (empty : display on screen)		2 - Background color */		$drawing = new BCGDrawing('', $color_white);		if($drawException) {		    $drawing->drawException($drawException);		} else {		    $drawing->setBarcode($code);		    $drawing->draw();		}				$drawing->setFilename("images/barcodes/".$productBarcode.'.png');		// Draw (or save) the image into PNG format.		$drawing->finish(BCGDrawing::IMG_FORMAT_PNG);				echo json_encode(OK);	}	}exit();?>